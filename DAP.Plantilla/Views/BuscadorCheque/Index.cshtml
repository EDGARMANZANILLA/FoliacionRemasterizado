@*<div class="row">

        <div class="offset-1 col-11 text-center">

            <h5>Ingresa el numero de la forma de pago a buscar</h5>



        </div>

    </div>




    <div class="row">
        <div class="box">
            <div class="container-3">
                <span class="icon"><i class="fa fa-search"></i></span>
                <input type="search" id="search" onkeypress="return event.charCode >= 48 && event.charCode <= 122 && event.charCode != 91 " required placeholder="Buscar Cheque..." />
            </div>
        </div>


    </div>






    <div class="row">
        <div class="offset-1 col-11 text-center">


            <button id="VerDetallesCheque" type="button" class="btn btn-outline-primary" data-toggle="modal" data-target="#ModalDetallesCheque">Buscar</button>
            <button type="button" class="btn btn-outline-primary" title="Buscar a detalle">Voy a tener suerte </button>

        </div>

    </div>*@








@*  ORIGINALLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLL
        <div class="margenSection row ">

        <div class="form-group filtro  col-12 col-xs-offset-0 offset-sm-3 col-sm-2">
            <select class="form-control seleccion" id="SeleccionarTipoFoliacion" required>

                <option value="" disabled selected>FILTROS OPCIONALES...</option>
                <option>CHEQUE</option>
                <option>NUMERO DE EMPLEADO</option>
                <option>NOMBRE BENEFICIARIO</option>
            </select>
        </div>


        <input id="Buscador" class="col-12 col-sm-4 input" placeholder="Ingresa un checa, numero o nombre de empleado" type="text" onkeypress="return event.charCode >= 48 && event.charCode <= 122 && event.charCode != 91 " />
        <br />
    </div>


    <br />
    <div class="col-12  text-center">
        <button class="btn btn-primary btn-lg"> <i class="fa fa-search" aria-hidden="true"></i> Buscar</button>


    </div>*@






<div class="margenSection row ">

    <div class="form-group filtro  col-12 col-xs-offset-0 offset-sm-3 col-sm-2">
        <select class="form-control seleccion" id="TipoFiltro" required >

            <option value="" disabled selected>FILTROS OPCIONALES...</option>
            <option value="1">CHEQUE</option>
            <option value="2">NUMERO DE EMPLEADO</option>
            <option value="3">NOMBRE BENEFICIARIO</option>
        </select>
    </div>


    <div class="form-group    col-12 col-sm-4">

        <select id="Buscador" class="input" >

            @*<option>OPCION 1</option>
            <option>OPCION 2</option>
            <option>OPCION 3</option>
            <option>OPCION 4</option>
            <option>OPCION 5</option>
            <option>OPCION 6</option>
            <option>OPCION 7</option>
            <option>OPCION 8</option>
            <option>OPCION 9</option>
            <option>OPCION 10</option>
            <option>OPCION 11</option>*@
            
        </select>
    </div>


    <br />
</div>



<br />
<div class="col-12  text-center">
    <button id="btnBuscardor" class="btn btn-primary btn-lg"> <i class="fa fa-search" aria-hidden="true"></i> Buscar</button>


</div>






<div id="RenderPartialViewDetallesCheques">

</div>







<style>



    .select2-selection__rendered {
        color: #007BFF !important;
        margin-top: 1rem;
        padding-left: 8px;
        padding-right: 200px;
    }

    .select2-search__field {
        font-size: 100%;
        margin-top: 5px;
        margin-left: 5px;
        padding: 0;
        max-width: 100%;
        height: 60px;
        font-family: sans-serif;
        font-size: 25px;
        font-weight: bolder;
    }

    .select2-results__options {
        list-style: none;
        margin-bottom: 25px;
        padding: 0;
    }




    .select2-results {
        text-align: center;
        color: rgb(0, 123, 255);
        font-size: 20px;
        font-weight: bolder;
    }


    .seleccion {
        border: 0;
        height: 60px;
        color: rgb(0, 123, 255);
        background: transparent;
        font-size: 17px;
        font-weight: bolder;
        background: #ffffff;
    }

    .filtro {
        height: 60px;
        background: #74BC7C;
        font-size: 15pt;
        color: #262626;
        border-radius: 15px;
    }









    .seleccion2 {
        font-size: 18px;
        font-weight: bolder;
        color: #007BFF;
        text-align: center;
    }





    
    .input {
        width: 400px;
        height: 55px;
        background: #f8f8f86b;
        border: 2px solid;
        font-size: 14pt;
        float: left;
        color: #262626;
        padding-left: 55px;
        -webkit-border-radius: 6px;
        -moz-border-radius: 6px;
        border-radius: 16px;
        color: #1e77fd;
    }





      
</style>



<script>
    $(document).ready(function () {






        let filtroSeleccionado = null;
        const TipoFiltro = document.getElementById("TipoFiltro");
        TipoFiltro.addEventListener("change",
            function () {

                filtroSeleccionado = null;
                filtroSeleccionado = this.options[TipoFiltro.selectedIndex];
                console.log(filtroSeleccionado.value);

                document.getElementById("Buscador").disabled = false;
            }
        );



        let EnviaIdNom = "{'NumeroQuincena: ''}";


        $("#Buscador").select2
        ({

            language: "es",
            width: '100%',
            ajax: {
                    url: '@Url.Action("ObtenerFiltradoDatos", "BuscadorCheque")',
                    type: 'GET',
                    dataType: 'json',
                    delay: 300,
                data: function (data) {

                    //let query = {
                    //    nombre: data.term,
                    //    type: 'strin'
                    //}

                    return {
                        TipoDeBusqueda: filtroSeleccionado.value,
                        BuscarDato: data.term
                    };

                   // console.log(query.term);

                    // Query parameters will be ?search=[term]&type=public
                    //return query;
                        //console.log(response.term);

                },
                processResults: function (data, params) {
                    // parse the results into the format expected by Select2
                    // since we are using custom formatting functions we do not need to
                    // alter the remote JSON data, except to indicate that infinite
                    // scrolling can be used
                    console.log("entre TILIN")

                    //console.log(params)
                    console.log(data)
                    console.log(data.DataElementosEncontrados)


                    let results = [];
                    $.each(data, function (index, item) {

                        results.push({
                            id: item.id,
                            text: item.text
                        })

                    });

                    return { results };

                },
                cache: true
            },
            placeholder: "Ingrese datos a buscar...",
            allowClear: true,
            disabled: true,
            minimumInputLength: 4,
            cache: true,





        });


        let myID = 'Buscador';



        $('#select2-' + myID + '-container').addClass('seleccion2');
        $('#select2-' + myID + '-container').parent().css('height', '62px');
        $('#select2-' + myID + '-container').parent().css('border-radius', '15px');







        let datoSeleccionadoSelect2 = null;
        $('#Buscador').on('select2:select', function (e) {

            datoSeleccionadoSelect2 = null;
            datoSeleccionadoSelect2 = e.params.data;
            console.log(datoSeleccionadoSelect2 );

        });






















        const Buscador= document.getElementById("btnBuscardor");
        Buscador.addEventListener("click",
            function () {

                if (filtroSeleccionado != null)
                {
                    if (datoSeleccionadoSelect2 != null)
                    {
                        MensajeCargando();

                        //let BuscarElementoSeleccionado = "{'BuscarElemento_id': '"+datoSeleccionadoSelect2.id+"', 'BuscarElemento_text': '"+datoSeleccionadoSelect2.text+"'}";
                        let BuscarElementoSeleccionado = "{'BuscarElemento':'"+datoSeleccionadoSelect2.i+"'}";
                        let BuscarElemento = {

                            id: datoSeleccionadoSelect2.id,
                            text: datoSeleccionadoSelect2.text,
                            selected: datoSeleccionadoSelect2.selected
                          
                        };

                        $.ajax({
                            url: '@Url.Action("Buscar", "BuscadorCheque")',
                            data: JSON.stringify(BuscarElemento),
                            type: "POST",
                            contentType: "application/json; charset=utf-8",
                            success: function (response) {

                                if (response.RespuestaServidor == 201) {
                                    MensajeCorrectoSweet("CHIDO");
                                    //$('#TablaEsFoliada').empty();
                                    //DibujarTablaEsFoliada();
                                    //PintarResultadoEsFoliada(response.DetalleTabla);
                                } else if (response.RespuestaServidor == "500") {
                                    MensajeErrorSweet(response.Error);
                                }

                                OcultarMensajeCargando();

                            }, error: function (jqXHR, textStatus) {
                                MensajeErrorSweet("Ocurrio un error intente de nuevo " + textStatus)
                                OcultarMensajeCargando();
                            }
                        });


                    }
                    else {
                        MensajeErrorSweet("seleccione un dato por favor!", "No se a seleccionado ningun dato");
                    }
                }
                else
                {
                    MensajeErrorSweet("seleccione un filtro deseado!", "No se a seleccionado ningun filtro");
                }







            }
        );











    });













</script>
